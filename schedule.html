<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>NFL Sim — Schedule</title>
<style>
:root{
  --bg:#0b1220;--panel:#121a2a;--card:#0e1630;--text:#eef2ff;--muted:#93a0b1;
  --accent:#5eead4;--home:#4ade80;--away:#60a5fa;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;background:var(--bg);color:var(--text);
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  display:grid;place-items:center;
}
main{width:min(980px,94vw);display:grid;gap:16px}
h1{margin:0 0 6px;font-size:22px;letter-spacing:.2px}
.panel{
  background:var(--panel);border-radius:14px;padding:12px;
  border:1px solid #1c2440;box-shadow:0 6px 24px rgba(0,0,0,.25);
}
.row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
.btn{
  display:inline-flex;align-items:center;justify-content:center;
  padding:10px 12px;border-radius:10px;background:var(--accent);color:#0a0f17;
  font-weight:700;font-size:14px;border:none;box-shadow:0 2px 0 rgba(0,0,0,.25);
  text-decoration:none;cursor:pointer;
}
.btn.ghost{
  background:var(--card);color:#dbe3ef;border:1px solid #2a355a;box-shadow:none;
}
.small{font-size:12px;color:var(--muted)}
hr{height:1px;background:#1c2440;border:0;margin:6px 0;border-radius:2px}

.viewtabs{display:flex;gap:6px}
.viewtab{
  padding:6px 10px;border-radius:999px;border:1px solid #2a355a;
  background:#0e1630;color:#cbd5e1;cursor:pointer;font-size:12px;
}
.viewtab.active{background:#1e293b;color:#e5e7eb}

.table{width:100%;border-collapse:collapse;font-size:13px}
.table th,.table td{border-bottom:1px solid #1f2740;padding:8px 8px;text-align:left}
.table th{font-weight:700;color:#dbe3ef}
.right{text-align:right}

/* small helpers for sim column */
.sim-cell{text-align:right}
.sim-btn{padding:4px 8px;font-size:11px}

.section{
  background:rgba(255,255,255,.02);border:1px solid #1c2440;
  border-radius:12px;padding:8px;margin-top:8px;
}
.section h3{margin:0 0 6px;font-size:14px}

.pill{
  display:inline-block;padding:4px 8px;border-radius:999px;
  background:var(--card);border:1px solid #233055;
  font-size:12px;color:var(--muted);
}
.team{font-weight:700}
.away{color:var(--away)}
.home{color:var(--home)}
.nowrap{white-space:nowrap}
.stickyhead{
  position:sticky;top:0;
  background:linear-gradient(var(--panel),var(--panel));
  z-index:2;border-bottom:1px solid #1f2740;
}
.warn{color:#fca5a5}
kbd{
  font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
  background:#0e1630;border:1px solid #2a355a;border-radius:6px;
  padding:1px 5px;font-size:12px;
}
</style>
</head>
<body>
<main>
  <div class="row" style="justify-content:space-between;align-items:center">
    <h1>Schedule</h1>
    <div class="row">
      <a id="toStandings" class="btn ghost">← Standings</a>
      <button id="simNextWeekBtn" class="btn">▶ Sim Next Week</button>
      <button id="resetSeasonBtn" class="btn ghost">⟲ Reset Season</button>
    </div>
  </div>

  <div class="panel">
    <div class="row" style="justify-content:space-between;align-items:center">
      <div class="viewtabs">
        <button class="viewtab active" data-mode="week">By Week</button>
        <button class="viewtab" data-mode="team">By Team</button>
      </div>
      <div class="row">
        <span class="pill" id="gamesPill">0 games</span>
        <span class="pill" id="teamsPill">0 teams</span>
        <span class="pill" id="seasonPill">Season: —</span>
        <span class="pill" id="csvPill">CSV: loading…</span>
      </div>
    </div>
    <hr>
    <div id="scheduleRoot"></div>
  </div>

  <div class="small">
    Works with either classic <kbd>Home</kbd>/<kbd>Away</kbd> columns or
    team-centric nflfastR output (<kbd>team</kbd>, <kbd>opp</kbd>, <kbd>home_away</kbd>, <kbd>game_id</kbd>).
    Use <code>?players=</code> and/or <code>?schedule=</code> to override files.
    Add <code>&season=YYYY</code> (or <code>&season=all</code>) to control which season is shown.
  </div>
</main>

<!-- Wire up behavior from external script -->
<script src="schedule.js"></script>
</body>
</html>
