<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Franchise GM – League Stats & Leaders</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
  <style>
    body {
      margin: 0;
      padding: 0;
      background: radial-gradient(circle at 0% 0%, #0b1120 0%, #020617 48%, #000 100%);
      color: #e5e7eb;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", sans-serif;
    }
    .page {
      padding: 24px 40px;
      max-width: 1800px;
      margin: 0 auto;
    }
    header.stats-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 12px;
      margin-bottom: 18px;
    }
    .pill-record {
      border-radius: 999px;
      border: 1px solid #22c55e;
      padding: 6px 14px;
      display: flex;
      align-items: center;
      gap: 8px;
      background: rgba(15,23,42,0.85);
      font-size: 0.84rem;
    }
    .pill-record-dot { width: 7px; height: 7px; border-radius: 50%; background: #22c55e; }
    .btn-ghost {
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.7);
      background: rgba(15,23,42,0.85);
      color: #e5e7eb;
      font-size: 0.84rem;
      padding: 6px 14px;
      cursor: pointer;
    }
    .btn-ghost:hover { background: rgba(30,64,175,0.7); border-color: rgba(129,140,248,0.9); }

    .scope-bar {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: 10px;
      background: rgba(15,23,42,0.9);
      border: 1px solid rgba(51,65,85,0.9);
      border-radius: 14px;
      padding: 10px 14px;
      margin-bottom: 16px;
    }
    .scope-label { text-transform: uppercase; font-size: 0.78rem; color: #9ca3af; letter-spacing: 0.15em; }
    .scope-select {
      background: rgba(15,23,42,0.96);
      border: 1px solid rgba(51,65,85,0.9);
      color: #e5e7eb;
      padding: 5px 10px;
      border-radius: 999px;
      font-size: 0.82rem;
    }
    .stats-tabs {
      display: flex;
      gap: 6px;
      margin-bottom: 10px;
      background: rgba(15,23,42,0.9);
      border: 1px solid rgba(51,65,85,0.95);
      border-radius: 999px;
      padding: 3px;
    }
    .stats-tab {
      border: none;
      border-radius: 999px;
      background: transparent;
      color: #9ca3af;
      padding: 6px 14px;
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      cursor: pointer;
    }
    .stats-tab[data-active="true"] {
      background: linear-gradient(135deg, rgba(34,197,94,0.18), rgba(15,23,42,0.98));
      color: #e5e7eb;
      font-weight: 600;
    }
    .stats-panel[hidden] { display: none; }
    .card { background: rgba(15,23,42,0.9); border: 1px solid rgba(30,41,59,0.8); border-radius: 14px; padding: 14px; }
    .card-title { text-transform: uppercase; font-size: 0.9rem; letter-spacing: 0.12em; color: #9ca3af; }
    .card-title-main { font-weight: 600; color: #e5e7eb; margin-bottom: 4px; }
    .leader-list { list-style: none; margin: 0; padding: 0; }
    .leader-row { display: flex; justify-content: space-between; border-bottom: 1px solid rgba(31,41,55,0.8); padding: 6px 0; }
    .leader-row--user-team { background: rgba(34,197,94,0.12); }
    .leader-name { font-weight: 500; }
    .leader-stat { text-align: right; font-variant-numeric: tabular-nums; }

    table.stats-table { width: 100%; border-collapse: collapse; font-size: 0.82rem; }
    table.stats-table th, table.stats-table td { padding: 6px 8px; text-align: right; border-bottom: 1px solid rgba(30,41,55,0.9); }
    table.stats-table th:first-child, table.stats-table td:first-child { text-align: left; }
    table.stats-table tr.team-row--user-team td { background: rgba(34,197,94,0.12); }

    .no-franchise { margin-top: 50px; background: rgba(15,23,42,0.9); border: 1px solid rgba(51,65,85,0.8); border-radius: 14px; padding: 20px; max-width: 480px; }
  </style>
</head>
<body>
  <div class="page">
    <header class="stats-header">
      <div class="header-left">
        <div id="stats-header-name">Franchise Team</div>
        <div id="stats-header-subline">2025 • League Stats & Leaders</div>
      </div>
      <div class="header-right">
        <div class="pill-record">
          <span class="pill-record-dot"></span>
          <span class="pill-record-label">Record</span>
          <span class="pill-record-value" id="stats-record-value">0–0</span>
        </div>
        <button class="btn-ghost" id="btn-stats-back">Back to Hub</button>
      </div>
    </header>

    <section class="scope-bar">
      <span class="scope-label">Scope</span>
      <select id="scope-mode-select" class="scope-select">
        <option value="season">Season to Date</option>
        <option value="week">Single Week</option>
        <option value="range">Week Range</option>
      </select>
      <select id="scope-week-select" class="scope-select"></select>
      <select id="scope-range-from-select" class="scope-select"></select>
      <select id="scope-range-to-select" class="scope-select"></select>
      <span id="scope-summary-text" style="margin-left:auto;font-size:0.8rem;color:#9ca3af;">Season to date.</span>
    </section>

    <nav class="stats-tabs" role="tablist">
      <button class="stats-tab" data-active="true" data-panel="panel-leaders">Player Leaders</button>
      <button class="stats-tab" data-panel="panel-teams">Team Stats</button>
    </nav>

    <main>
      <section id="panel-leaders" class="stats-panel">
        <div class="card"><div class="card-title-main">Passing Yards</div><ol id="leader-list-passing" class="leader-list"></ol></div>
        <div class="card"><div class="card-title-main">Rushing Yards</div><ol id="leader-list-rushing" class="leader-list"></ol></div>
        <div class="card"><div class="card-title-main">Receiving Yards</div><ol id="leader-list-receiving" class="leader-list"></ol></div>
        <div class="card"><div class="card-title-main">Kicking</div><ol id="leader-list-kicking" class="leader-list"></ol></div>
      </section>

      <section id="panel-teams" class="stats-panel" hidden>
        <div class="card">
          <div class="card-title-main">Team Rankings</div>
          <table class="stats-table">
            <thead><tr><th>Team</th><th>GP</th><th>PF/G</th><th>Yds/G</th><th>Pass/G</th><th>Rush/G</th></tr></thead>
            <tbody id="team-rankings-tbody"></tbody>
          </table>
        </div>
      </section>

      <section id="no-franchise" class="no-franchise" hidden>
        <strong>No active franchise detected.</strong>
        <p>Start a new franchise or continue from the landing page.</p>
        <button id="btn-new-franchise" class="btn-ghost">Start New Franchise</button>
      </section>
    </main>
  </div>

  <script type="module" src="stats.js"></script>
</body>
</html>
